{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAOhCC,EAAgB,GAYtBH,EAAOI,iBAAiB,QAASC,EAAAP,GAAEQ,UAVhBC,IACjBA,EAAEC,iBACF,MAAMC,EAAaT,EAAOU,SAASC,MAAMC,MACnCC,EAAeb,EAAOU,SAASI,QAAQF,MAC7CT,EAAcQ,MAAQF,EACtBN,EAAcW,QAAUD,EACxB,MAAME,EAAoBC,KAAKC,UAAUd,GACzCe,aAAaC,QAfU,sBAegBJ,EAAkB,GAGH,MAGxDf,EAAOI,iBAAiB,UAAU,KAChCgB,QAAQC,IAAIlB,GACZe,aAAaI,OAAO,IAItBC,OAAOnB,iBAAiB,QAAQ,KAC9BJ,EAAOU,SAASC,MAAMC,MAAQI,KAAKQ,MACjCN,aAAaO,QA7BQ,wBA8BrBd,MACFX,EAAOU,SAASI,QAAQF,MAAQI,KAAKQ,MACnCN,aAAaO,QAhCQ,wBAiCrBX,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst STORAGE_KEY_FORM = 'feedback-form-state';\n// const unstringifiedFields = localStorage.getItem(STORAGE_KEY_FORM);\n\n// keeping values from email and message in local storage\n// in an object {}\n\nconst feedbackField = {};\n\nconst trackInput = e => {\n  e.preventDefault();\n  const emailValue = formEl.elements.email.value;\n  const messageValue = formEl.elements.message.value;\n  feedbackField.email = emailValue;\n  feedbackField.message = messageValue;\n  const stringifiedFields = JSON.stringify(feedbackField);\n  localStorage.setItem(STORAGE_KEY_FORM, stringifiedFields);\n};\n\nformEl.addEventListener('input', _.throttle(trackInput, 500));\n\n// handle submit - log object with fields, clear storage\nformEl.addEventListener('submit', () => {\n  console.log(feedbackField);\n  localStorage.clear();\n});\n\n// after reloading the page fill input fields with local storage\nwindow.addEventListener('load', () => {\n  formEl.elements.email.value = JSON.parse(\n    localStorage.getItem(STORAGE_KEY_FORM)\n  ).email;\n  formEl.elements.message.value = JSON.parse(\n    localStorage.getItem(STORAGE_KEY_FORM)\n  ).message;\n});\n\n// console.log(typeof JSON.parse(unstringifiedFields).message);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$feedbackField","addEventListener","$parcel$interopDefault","throttle","e","preventDefault","emailValue","elements","email","value","messageValue","message","stringifiedFields","JSON","stringify","localStorage","setItem","console","log","clear","window","parse","getItem"],"version":3,"file":"03-feedback.a573e2f8.js.map"}