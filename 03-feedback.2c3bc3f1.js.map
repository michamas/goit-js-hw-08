{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,kBAChCC,EAAmB,sBACnBC,EAAsBC,aAAaC,QAAQH,GAK3CI,EAAgB,GAYtBP,EAAOQ,iBAAiB,QAASC,EAAAX,GAAEY,UAVhB,SAAAC,GACjBA,EAAEC,iBACF,IAAMC,EAAab,EAAOc,SAASC,MAAMC,MACnCC,EAAejB,EAAOc,SAASI,QAAQF,MAC7CT,EAAcQ,MAAQF,EACtBN,EAAcW,QAAUD,EACxB,IAAME,EAAoBC,KAAKC,UAAUd,GACzCF,aAAaiB,QAAQnB,EAAkBgB,E,GAGe,MAGxDnB,EAAOQ,iBAAiB,UAAU,SAAAG,GAChCA,EAAEC,iBAEFW,QAAQC,IAAIJ,KAAKK,MAAMrB,IACvBC,aAAaqB,O,IAIfC,OAAOnB,iBAAiB,QAAQ,WAC9BR,EAAOc,SAASC,MAAMC,MAAQX,aAAaC,QACzCc,KAAKK,MAAMrB,GAAqBW,OAElCf,EAAOc,SAASI,QAAQF,MAAQX,aAAaC,QAC3Cc,KAAKK,MAAMrB,GAAqBc,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst STORAGE_KEY_FORM = 'feedback-form-state';\nconst unstringifiedFields = localStorage.getItem(STORAGE_KEY_FORM);\n\n// keeping values from email and message in local storage\n// in an object {}\n\nconst feedbackField = {};\n\nconst trackInput = e => {\n  e.preventDefault();\n  const emailValue = formEl.elements.email.value;\n  const messageValue = formEl.elements.message.value;\n  feedbackField.email = emailValue;\n  feedbackField.message = messageValue;\n  const stringifiedFields = JSON.stringify(feedbackField);\n  localStorage.setItem(STORAGE_KEY_FORM, stringifiedFields);\n};\n\nformEl.addEventListener('input', _.throttle(trackInput, 500));\n\n// handle submit - log object with fields, clear storage\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  //   const unstringifiedFields = localStorage.getItem(STORAGE_KEY_FORM);\n  console.log(JSON.parse(unstringifiedFields));\n  localStorage.clear();\n});\n\n// after reloading the page fill input fields with local storage\nwindow.addEventListener('load', () => {\n  formEl.elements.email.value = localStorage.getItem(\n    JSON.parse(unstringifiedFields).email\n  );\n  formEl.elements.message.value = localStorage.getItem(\n    JSON.parse(unstringifiedFields).message\n  );\n});\n\n// console.log(typeof JSON.parse(unstringifiedFields).message);\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$STORAGE_KEY_FORM","$b00c40859be242c5$var$unstringifiedFields","localStorage","getItem","$b00c40859be242c5$var$feedbackField","addEventListener","$parcel$interopDefault","throttle","e","preventDefault","emailValue","elements","email","value","messageValue","message","stringifiedFields","JSON","stringify","setItem","console","log","parse","clear","window"],"version":3,"file":"03-feedback.2c3bc3f1.js.map"}