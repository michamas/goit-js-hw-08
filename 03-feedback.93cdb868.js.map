{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAEhCC,EAAsBC,aAAaC,QADhB,uBAMnBC,EAAgB,GAYtBN,EAAOO,iBAAiB,QAASC,EAAAV,GAAEW,UAVhBC,IACjBA,EAAEC,iBACF,MAAMC,EAAaZ,EAAOa,SAASC,MAAMC,MACnCC,EAAehB,EAAOa,SAASI,QAAQF,MAC7CT,EAAcQ,MAAQF,EACtBN,EAAcW,QAAUD,EACxB,MAAME,EAAoBC,KAAKC,UAAUd,GACzCF,aAAaiB,QAfU,sBAegBH,EAAkB,GAGH,MAGxDlB,EAAOO,iBAAiB,UAAUG,IAChCA,EAAEC,iBAEFW,QAAQC,IAAIJ,KAAKK,MAAMrB,IACvBC,aAAaqB,OAAO,IAItBC,OAAOnB,iBAAiB,QAAQ,KAC9BP,EAAOa,SAASC,MAAMC,MAAQX,aAAaC,QACzCc,KAAKK,MAAMrB,GAAqBW,OAElCd,EAAOa,SAASI,QAAQF,MAAQX,aAAaC,QAC3Cc,KAAKK,MAAMrB,GAAqBc,QACjC","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst STORAGE_KEY_FORM = 'feedback-form-state';\nconst unstringifiedFields = localStorage.getItem(STORAGE_KEY_FORM);\n\n// keeping values from email and message in local storage\n// in an object {}\n\nconst feedbackField = {};\n\nconst trackInput = e => {\n  e.preventDefault();\n  const emailValue = formEl.elements.email.value;\n  const messageValue = formEl.elements.message.value;\n  feedbackField.email = emailValue;\n  feedbackField.message = messageValue;\n  const stringifiedFields = JSON.stringify(feedbackField);\n  localStorage.setItem(STORAGE_KEY_FORM, stringifiedFields);\n};\n\nformEl.addEventListener('input', _.throttle(trackInput, 500));\n\n// handle submit - log object with fields, clear storage\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  //   const unstringifiedFields = localStorage.getItem(STORAGE_KEY_FORM);\n  console.log(JSON.parse(unstringifiedFields));\n  localStorage.clear();\n});\n\n// after reloading the page fill input fields with local storage\nwindow.addEventListener('load', () => {\n  formEl.elements.email.value = localStorage.getItem(\n    JSON.parse(unstringifiedFields).email\n  );\n  formEl.elements.message.value = localStorage.getItem(\n    JSON.parse(unstringifiedFields).message\n  );\n});\n\n// console.log(typeof JSON.parse(unstringifiedFields).message);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$unstringifiedFields","localStorage","getItem","$945622fd0f572e60$var$feedbackField","addEventListener","$parcel$interopDefault","throttle","e","preventDefault","emailValue","elements","email","value","messageValue","message","stringifiedFields","JSON","stringify","setItem","console","log","parse","clear","window"],"version":3,"file":"03-feedback.93cdb868.js.map"}