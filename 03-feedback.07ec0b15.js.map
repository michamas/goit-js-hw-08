{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,kBAChCC,EAAmB,sBAMnBC,EAAgB,GAYtBJ,EAAOK,iBAAiB,QAASC,EAAAR,GAAES,UAVhB,SAAAC,GACjBA,EAAEC,iBACF,IAAMC,EAAaV,EAAOW,SAASC,MAAMC,MACnCC,EAAed,EAAOW,SAASI,QAAQF,MAC7CT,EAAcQ,MAAQF,EACtBN,EAAcW,QAAUD,EACxB,IAAME,EAAoBC,KAAKC,UAAUd,GACzCe,aAAaC,QAAQjB,EAAkBa,E,GAGe,MAGxDhB,EAAOK,iBAAiB,UAAU,WAChCgB,QAAQC,IAAIlB,GACZe,aAAaI,O,IAIfC,OAAOnB,iBAAiB,QAAQ,WAC9BL,EAAOW,SAASC,MAAMC,MAAQI,KAAKQ,MACjCN,aAAaO,QAAQvB,IACrBS,MACFZ,EAAOW,SAASI,QAAQF,MAAQI,KAAKQ,MACnCN,aAAaO,QAAQvB,IACrBY,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst STORAGE_KEY_FORM = 'feedback-form-state';\n// const unstringifiedFields = localStorage.getItem(STORAGE_KEY_FORM);\n\n// keeping values from email and message in local storage\n// in an object {}\n\nconst feedbackField = {};\n\nconst trackInput = e => {\n  e.preventDefault();\n  const emailValue = formEl.elements.email.value;\n  const messageValue = formEl.elements.message.value;\n  feedbackField.email = emailValue;\n  feedbackField.message = messageValue;\n  const stringifiedFields = JSON.stringify(feedbackField);\n  localStorage.setItem(STORAGE_KEY_FORM, stringifiedFields);\n};\n\nformEl.addEventListener('input', _.throttle(trackInput, 500));\n\n// handle submit - log object with fields, clear storage\nformEl.addEventListener('submit', () => {\n  console.log(feedbackField);\n  localStorage.clear();\n});\n\n// after reloading the page fill input fields with local storage\nwindow.addEventListener('load', () => {\n  formEl.elements.email.value = JSON.parse(\n    localStorage.getItem(STORAGE_KEY_FORM)\n  ).email;\n  formEl.elements.message.value = JSON.parse(\n    localStorage.getItem(STORAGE_KEY_FORM)\n  ).message;\n});\n\n// console.log(typeof JSON.parse(unstringifiedFields).message);\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$STORAGE_KEY_FORM","$b00c40859be242c5$var$feedbackField","addEventListener","$parcel$interopDefault","throttle","e","preventDefault","emailValue","elements","email","value","messageValue","message","stringifiedFields","JSON","stringify","localStorage","setItem","console","log","clear","window","parse","getItem"],"version":3,"file":"03-feedback.07ec0b15.js.map"}